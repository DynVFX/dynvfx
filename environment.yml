name: dynvfx
channels:
  - pytorch
  - nvidia
  - conda-forge
  - defaults

dependencies:
  # Python
  - python=3.9
  - pip

  # PyTorch stack (CUDA 12.1) â€” matches:
  # pip install torch==2.4.0 torchvision==0.19.0 torchaudio==2.4.0 --index-url https://download.pytorch.org/whl/cu121
  - pytorch==2.4.0
  - torchvision==0.19.0
  - torchaudio==2.4.0
  - pytorch-cuda=12.1

  # Core scientific packages
  - numpy=1.26  # safest conda build, avoids ABI issues
  - scikit-learn=1.5
  - matplotlib

  # Project dependencies (from minimal requirements)
  - pip:
      - diffusers==0.31.0
      - transformers==4.44.0
      - accelerate==0.33.0
      - safetensors>=0.4.0
      - huggingface-hub>=0.24.0
      - einops==0.8.0
      - omegaconf==2.3.0
      - pydantic==2.8.2
      - Pillow==10.4.0
      - opencv-python==4.11.0.86
      - kornia==0.7.3
      - pyamg==5.2.1
      - tqdm==4.66.5
      - openai==1.79.0
      - python-dotenv==1.2.1
